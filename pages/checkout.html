<div class="bg-gray-50">
    <div class="container mx-auto px-4 py-12">
        <div class="flex items-center mb-6">
            <button id="back-to-cart-btn" class="nav-link text-secondary hover:underline font-medium flex items-center" data-page="cart"><i class="fas fa-arrow-left mr-2"></i> Voltar para o Carrinho</button>
        </div>
        <h1 class="text-3xl font-bold text-gray-800 mb-8">Finalizar Pedido</h1>
        <div class="flex flex-col lg:flex-row gap-8">
            <div class="w-full lg:w-2/3 space-y-8">
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">1. Informações Pessoais</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="md:col-span-2"><label for="fullname" class="block text-sm font-medium text-gray-700 mb-1">Nome Completo</label><input type="text" id="fullname" class="form-input" placeholder="Seu nome completo"></div>
                        <div><label for="cpf" class="block text-sm font-medium text-gray-700 mb-1">CPF</label><input type="text" id="cpf" class="form-input" placeholder="000.000.000-00"></div>
                        <div><label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Celular</label><input type="tel" id="phone" class="form-input" placeholder="(83) 99999-9999"></div>
                        <div class="md:col-span-2"><label for="email" class="block text-sm font-medium text-gray-700 mb-1">E-mail</label><input type="email" id="email" class="form-input" placeholder="seu@email.com"></div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">2. Endereço de Entrega</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="md:col-span-1 relative">
                            <label for="cep" class="block text-sm font-medium text-gray-700 mb-1">CEP</label>
                            <input type="text" id="cep" class="form-input" placeholder="00000-000">
                            <div id="cep-loader" class="hidden absolute top-8 right-3"></div>
                        </div>
                        <div class="md:col-span-3"><label for="address" class="block text-sm font-medium text-gray-700 mb-1">Endereço</label><input type="text" id="address" class="form-input" placeholder="Sua rua, avenida..."></div>
                        <div class="md:col-span-1"><label for="number" class="block text-sm font-medium text-gray-700 mb-1">Número</label><input type="text" id="number" class="form-input"></div>
                        <div class="md:col-span-2"><label for="complement" class="block text-sm font-medium text-gray-700 mb-1">Complemento</label><input type="text" id="complement" class="form-input" placeholder="Apto, bloco, casa..."></div>
                        <div>
                            <label for="neighborhood" class="block text-sm font-medium text-gray-700 mb-1">Bairro</label>
                            <input type="text" id="neighborhood" class="form-input">
                            <p id="neighborhood-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>
                        <div><label for="city" class="block text-sm font-medium text-gray-700 mb-1">Cidade</label><input type="text" id="city" class="form-input"></div>
                        <div><label for="state" class="block text-sm font-medium text-gray-700 mb-1">Estado</label><input type="text" id="state" class="form-input"></div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">3. Forma de Pagamento</h2>
                    <div id="payment-method-selector" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div class="payment-option p-4 rounded-lg cursor-pointer flex items-center justify-center gap-2 selected" data-method="pix"><i class="fab fa-pix"></i><span>PIX</span></div>
                        <div class="payment-option p-4 rounded-lg cursor-pointer flex items-center justify-center gap-2" data-method="credit"><i class="fas fa-credit-card"></i><span>Crédito</span></div>
                        <div class="payment-option p-4 rounded-lg cursor-pointer flex items-center justify-center gap-2" data-method="debit"><i class="fas fa-credit-card"></i><span>Débito</span></div>
                    </div>
                    <div id="payment-details">
                        <div id="pix-info">
                            <p class="text-center text-gray-700">Ao finalizar a compra, um QR Code será gerado para o pagamento via PIX.</p>
                        </div>
                        <div id="credit-card-info" class="hidden space-y-4">
                            <div><label for="card-name" class="block text-sm font-medium text-gray-700 mb-1">Nome no Cartão</label><input type="text" id="card-name" class="form-input"></div>
                            <div><label for="card-number" class="block text-sm font-medium text-gray-700 mb-1">Número do Cartão</label><input type="text" id="card-number" class="form-input"></div>
                            <div class="grid grid-cols-2 gap-4">
                                <div><label for="card-expiry" class="block text-sm font-medium text-gray-700 mb-1">Validade (MM/AA)</label><input type="text" id="card-expiry" class="form-input"></div>
                                <div><label for="card-cvv" class="block text-sm font-medium text-gray-700 mb-1">CVV</label><input type="text" id="card-cvv" class="form-input"></div>
                            </div>
                        </div>
                        <div id="debit-card-info" class="hidden">
                            <p class="text-center text-gray-700">O pagamento com cartão de débito será realizado na maquininha no momento da entrega.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="w-full lg:w-1/3">
                <div class="bg-white p-6 rounded-lg shadow-sm sticky top-24">
                    <h2 class="text-xl font-bold text-gray-800 border-b pb-4 mb-4">Resumo do Pedido</h2>
                    <div id="checkout-summary-items" class="space-y-3 mb-4 max-h-64 overflow-y-auto"></div>
                    <div class="space-y-3 pt-4 border-t text-gray-600">
                        <div class="flex justify-between"><span>Subtotal</span><span id="checkout-subtotal">R$ 0,00</span></div>
                        <div class="flex justify-between"><span>Frete</span><span id="checkout-shipping">R$ 0,00</span></div>
                        <div class="flex justify-between font-bold text-gray-800 text-lg"><span>Total</span><span id="checkout-total">R$ 0,00</span></div>
                    </div>
                    <button id="confirm-purchase-btn" class="w-full bg-primary hover:bg-orange-700 text-white py-3 mt-6 rounded-lg font-bold transition duration-300">Confirmar Compra</button>
                </div>
            </div>
        </div>
    </div>
</div>